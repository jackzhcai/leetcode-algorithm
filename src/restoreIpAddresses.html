<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>复原IP地址</title>
</head>
<body>
<script>
  /**
   * @param {string} s
   * @return {string[]}
   */
  var restoreIpAddresses = function(s) {
    // var len = s.length
    // var arr = []
    // if (len < 4 || len > 12) {
    //   return arr
    // }
    // var test = function (x) {
    //   return x === '0' || +x < 256 && x.charAt(0) !== '0'
    // }
    // for (var i = 1; i < 4; i ++) {
    //   for (var j = i + 1; j < i + 4; j++) {
    //     if (j >= len) break
    //     for (var k = j + 1; k < j + 4; k++) {
    //       if (k >= len) break
    //       var a = s.substring(0, i)
    //       var b = s.substring(i, j)
    //       var c = s.substring(j, k)
    //       var d = s.substring(k)
    //       if (d.length > 3) continue
    //       if (test(a) && test(b) && test(c) && test(d)) {
    //         arr.push(`${a}.${b}.${c}.${d}`)
    //       }
    //     }
    //   }
    // }
    // return arr

    var len = s.length
    var arr = []
    if (len < 4 || len > 12) {
      return arr
    }
    function test (x) {
      return x === '0' || (+x) <= 255 && x.charAt(0) !== '0'
    }
    for (let i = 1; i < 4; i++) {
      for (let j = i + 1; j < i + 4; j++) {
        if (j >= len) break
        for (let k = j + 1; k < j + 4; k++) {
          if (k >= len) break
          let a = s.slice(0, i)
          let b = s.slice(i, j)
          let c = s.slice(j, k)
          let d = s.slice(k)
          if (d.length > 3) continue
          if (test(a) && test(b) && test(c) && test(d)) {
            arr.push(`${a}.${b}.${c}.${d}`)
          }
        }
      }
    }
    return arr
  };
  console.log(restoreIpAddresses('25525511135'))
</script>
</body>
</html>
